import{H as a}from"./Header-WQbM4sA5.js";import{C as i,F as c}from"./Card-5eaP5XeC.js";import{B as p}from"./Button--kJKo-mJ.js";import{_ as u,c as h,e as n,b as e,f as t,a as f,t as m,d,s as g}from"./index-ByinR5q9.js";/* empty css                                                               */const P={class:"container"},I={class:"script-container"},N={class:"script-actions"},s=`function collectNodeInfo(node){if(!node)return null;let nodeInfo={text:node.text(),id:node.id(),desc:node.desc(),clz:node.className(),pkg:node.packageName(),bounds:node.bounds(),index:node.indexInParent(),depth:node.depth(),clickable:node.clickable(),longClickable:node.longClickable(),checkable:node.checkable(),checked:node.checked(),selected:node.selected(),enabled:node.enabled(),visibleToUser:node.visibleToUser(),row:node.row(),column:node.column(),rowSpan:node.rowSpan(),columnSpan:node.columnSpan(),rowCount:node.rowCount(),columnCount:node.columnCount(),drawingOrder:node.drawingOrder(),children:[]};let children=node.children();if(children&&children.length>0){for(let i=0;i<children.length;i++){let childInfo=collectNodeInfo(children[i]);if(childInfo){nodeInfo.children.push(childInfo)}}}return nodeInfo}function saveNodeTree(){let rootNode=auto.root;let nodeTree=collectNodeInfo(rootNode);if(!nodeTree){return}let timestamp=new Date().getTime();let jsonPath="/sdcard/nodeInfo_"+timestamp+".json";let imgPath="/sdcard/nodeScreen_"+timestamp+".png";try{files.write(jsonPath,JSON.stringify(nodeTree,null,2));captureScreen(imgPath);uploadFilesToAPI(imgPath,jsonPath)}catch(e){}}function uploadFilesToAPI(screenshotPath,jsonPath){try{let res=http.postMultipart(API_ENDPOINT,{screenshot:open(screenshotPath),nodeJson:open(jsonPath),});if(res.statusCode>=200&&res.statusCode<300){log("ä¸Šä¼ æˆåŠŸ")}}catch(e){}}

if (!requestScreenCapture()) {
    exit();
}
const API_ENDPOINT = "http://172.20.33.2:8000/api/screenshots/upload";
saveNodeTree();`,S={__name:"ScriptPage",setup(b){function r(){navigator.clipboard.writeText(s).then(()=>{g("è„šæœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}).catch(l=>{console.error("å¤åˆ¶å¤±è´¥:",l)})}return(l,o)=>(f(),h("div",P,[n(a),o[6]||(o[6]=e("div",{class:"page-header"},[e("div",{class:"header-title"},[e("h1",null,"è„šæœ¬"),e("p",{class:"header-description"},"å¯ä»¥è¿è¡Œçš„AutoJSè„šæœ¬")])],-1)),e("div",I,[n(i,null,{header:t(()=>[o[1]||(o[1]=e("h5",null,[e("span",{class:"card-icon"},"ğŸ“œ"),d(" èŠ‚ç‚¹æ”¶é›†è„šæœ¬")],-1)),e("div",N,[n(p,{onClick:r,type:"primary",small:""},{default:t(()=>o[0]||(o[0]=[d("å¤åˆ¶è„šæœ¬")])),_:1})])]),default:t(()=>[e("div",{class:"markdown-content"},[o[2]||(o[2]=e("h3",null,"èŠ‚ç‚¹ä¿¡æ¯æ”¶é›†è„šæœ¬",-1)),o[3]||(o[3]=e("p",null,"æ­¤è„šæœ¬ç”¨äºæ”¶é›†Androidåº”ç”¨èŠ‚ç‚¹ä¿¡æ¯å¹¶ä¸Šä¼ ï¼Œé…åˆGoScoperä½¿ç”¨ã€‚",-1)),e("pre",null,[e("code",{class:"language-javascript"},m(s))]),o[4]||(o[4]=e("h3",null,"ä½¿ç”¨è¯´æ˜",-1)),o[5]||(o[5]=e("ol",null,[e("li",null,"åœ¨ AutoJS åº”ç”¨ä¸­åˆ›å»ºæ–°è„šæœ¬"),e("li",null,"å¤åˆ¶å¹¶ç²˜è´´ä¸Šé¢çš„ä»£ç "),e("li",null,"æ ¹æ®éœ€è¦ä¿®æ”¹ API_ENDPOINT ä¸ºæ‚¨çš„æœåŠ¡å™¨åœ°å€"),e("li",null,"è¿è¡Œè„šæœ¬ä»¥æ•è·å½“å‰å±å¹•çš„èŠ‚ç‚¹æ ‘ä¿¡æ¯å¹¶ä¸Šä¼ ")],-1))])]),_:1})]),n(c)]))}},_=u(S,[["__scopeId","data-v-d846c41b"]]);export{_ as default};
