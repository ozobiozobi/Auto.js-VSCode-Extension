import{_ as le,r as y,m as H,n as W,p as Ne,c as r,a as d,b as l,j as w,w as ke,t as S,q as we,F as ce,h as ue,i as he,d as E,e as ve,x as R,o as Se,g as Ae,l as O,y as Ce,z as Te,s as ne}from"./index-ByinR5q9.js";import{H as Ie}from"./Header-WQbM4sA5.js";/* empty css                                                               */import{c as re,e as Oe,g as Xe,h as se}from"./api-Cad0ROAR.js";const De=["data-node-id"],Ee={class:"toggle-icon"},He={class:"tree-node-label"},je={class:"node-class"},Je={key:0,class:"node-text"},Ye={key:0,class:"tree-node-children"},Ve={__name:"NodeTreeItem",props:{node:{type:Object,required:!0},selectedNode:{type:Object,default:null},expanded:{type:Boolean,default:!0},highlightId:{type:String,default:null}},emits:["node-selected"],setup(X,{expose:j,emit:V}){const g=X,u=V,c=y(g.expanded),T=y([]),A=y(null),M=H(()=>c.value),C=H(()=>g.node.children&&g.node.children.length>0&&a.value.length>0),a=H(()=>!g.node.children||!Array.isArray(g.node.children)?[]:g.node.children.filter(b=>b.visibleToUser!==!1)),p=H(()=>{const m=(g.node.class||g.node.clz||"未知").split(".");return m[m.length-1]}),x=H(()=>g.node.text?`"${g.node.text}"`:""),$=H(()=>B(g.node)),k=H(()=>g.selectedNode===g.node),J=H(()=>g.highlightId===$.value);function D(b){c.value=!c.value,b.stopPropagation()}function P(){u("node-selected",g.node)}function h(b){u("node-selected",b)}function Z(b){if($.value===b)return!0;if(C.value){c.value=!0;for(let m=0;m<T.value.length;m++){const _=T.value[m];if(_&&_.expandToNode&&_.expandToNode(b))return!0}}return!1}function B(b){let m=[];if(b.id){let _=b.id;typeof _=="object"&&_!==null&&(_=JSON.stringify(_)),m.push(`id-${_}`)}if(b.text){const _=b.text.substring(0,10);m.push(`text-${_}`)}if(m.push(`index-${b.index||0}`),b.depth!==void 0&&m.push(`depth-${b.depth}`),b.bounds){const{left:_,top:F,right:L,bottom:G}=b.bounds,z=`${_}_${F}_${L}_${G}`;m.push(`bounds-${z}`)}return m.length===0&&m.push(`unknown-${Date.now()}`),`node-${m.join("-")}`}return j({expandToNode:Z}),W(()=>g.highlightId,b=>{b===$.value&&(c.value=!0)}),(b,m)=>{const _=Ne("node-tree-item",!0);return d(),r("li",{class:"tree-node","data-node-id":$.value,ref_key:"nodeEl",ref:A},[l("div",{class:we(["tree-node-content",{selected:k.value,highlighted:J.value}]),onClick:P},[C.value?(d(),r("div",{key:0,class:"node-toggle",onClick:ke(D,["stop"])},[l("span",Ee,S(M.value?"▼":"►"),1)])):w("",!0),l("div",He,[l("span",je,S(p.value),1),x.value?(d(),r("span",Je,S(x.value),1)):w("",!0)])],2),C.value&&M.value?(d(),r("ul",Ye,[(d(!0),r(ce,null,ue(a.value,(F,L)=>(d(),he(_,{key:L,node:F,"selected-node":X.selectedNode,onNodeSelected:h,"highlight-id":X.highlightId,expanded:!0,ref_for:!0,ref_key:"childNodes",ref:T},null,8,["node","selected-node","highlight-id"]))),128))])):w("",!0)],8,De)}}},Me=le(Ve,[["__scopeId","data-v-ed7d294f"]]),Pe={class:"node-tree-container"},Re={class:"card-body"},Be={key:0,class:"loading-placeholder"},Fe={key:0,class:"no-visible-nodes"},Le={key:1,class:"tree"},ze={__name:"NodeTree",props:{nodeData:{type:Object,required:!0},selectedNode:{type:Object,default:null},autoScroll:{type:Boolean,default:!1}},emits:["node-selected"],setup(X,{emit:j}){const V=X,g=j,u=y(null),c=y(null),T=y(null);function A(a){g("node-selected",a)}W(()=>V.selectedNode,async a=>{var p;if(a)if(T.value=C(a),await R(),V.autoScroll){const x=(p=u.value)==null?void 0:p.querySelector(`[data-node-id="${T.value}"]`);x&&(M(),x.scrollIntoView({behavior:"smooth",block:"center"}))}else c.value&&c.value.expandToNode(T.value)},{immediate:!0});function M(a){c.value&&c.value.expandToNode(T.value)}function C(a){let p=[];if(a.id){let x=a.id;typeof x=="object"&&x!==null&&(x=JSON.stringify(x)),p.push(`id-${x}`)}if(a.text){const x=a.text.substring(0,10);p.push(`text-${x}`)}if(p.push(`index-${a.index||0}`),a.depth!==void 0&&p.push(`depth-${a.depth}`),a.bounds){const{left:x,top:$,right:k,bottom:J}=a.bounds,D=`${x}_${$}_${k}_${J}`;p.push(`bounds-${D}`)}return p.length===0&&p.push(`unknown-${Date.now()}`),`node-${p.join("-")}`}return(a,p)=>(d(),r("div",Pe,[p[1]||(p[1]=l("div",{class:"card-header"},[l("span",null,"节点树")],-1)),l("div",Re,[X.nodeData?(d(),r("div",{key:1,class:"node-tree-view",ref_key:"treeView",ref:u},[X.nodeData.visibleToUser===!1?(d(),r("div",Fe," 根节点不可见。 ")):(d(),r("ul",Le,[ve(Me,{node:X.nodeData,"selected-node":X.selectedNode,onNodeSelected:A,expanded:!0,"highlight-id":T.value,ref_key:"rootNodeItem",ref:c},null,8,["node","selected-node","highlight-id"])]))],512)):(d(),r("div",Be,p[0]||(p[0]=[l("span",{class:"spinner"},null,-1),E(" 加载中... ")])))])]))}},qe=le(ze,[["__scopeId","data-v-9af86bc6"]]),We={class:"container"},Ge={class:"main-container"},Ue={class:"detail-content-row"},Ke={class:"screenshot-column"},Qe={class:"card"},Ze={class:"card-header"},et={key:0,class:"resolution-info"},tt={class:"card-body"},ot={class:"screenshot-wrapper"},nt=["src"],st={key:0,class:"loading-placeholder"},lt={class:"info-column"},it={class:"card"},at={class:"card-body"},dt={key:0,class:"loading-placeholder"},rt={key:1,class:"node-instructions"},ct={key:2,class:"node-properties-container"},ut={class:"autoxjs-code-section"},ht={key:0,class:"code-display"},vt={key:1,class:"code-placeholder"},ft={class:"node-properties"},gt={key:0},pt={class:"node-properties-table"},bt={class:"property-key"},yt={class:"property-value"},mt={class:"property-value-content"},$t=["onClick"],xt={class:"node-json-section"},_t={class:"json-display"},Nt={class:"tree-column"},kt={class:"card node-tree-card"},wt={key:0,class:"hover-info-item"},St={key:1,class:"hover-info-item"},At={key:2,class:"hover-info-item"},Ct={key:3,class:"hover-info-item"},Tt={key:4,class:"hover-info-item"},It={__name:"DetailPage",props:{id:{type:String,required:!0}},setup(X){const j=X,V=Ae(),g=y(""),u=y(null),c=y(null),T=y(!1),A=y(!1),M=y(null),C=y(null),a=y(null),p=y(new Map),x=y(!0),$=y(1),k=y(1),J=y(null),D=y(""),P=y(""),h=y({show:!1,x:0,y:0,pageX:0,pageY:0,originalX:0,originalY:0,className:"",text:"",desc:"",index:void 0}),Z=H(()=>{if(!c.value)return{};const e={},t=c.value,s=t.clz||t.class||"";"id"in t&&(e.id=t.id),e.className=s;for(const n in t)n==="id"||n==="clz"||n==="class"||n==="children"||n==="bounds"||(e[n]=t[n]);if(t.bounds){const{left:n,top:o,right:i,bottom:v}=t.bounds;e.坐标={display:`左: ${n} 上: ${o} 右: ${i} 下: ${v}`,value:`${n},${o},${i},${v}`,toString(){return this.display}};const{x:N,y:I}=re(t);e.中心点={display:`X: ${N} Y: ${I}`,value:`${N},${I}`,toString(){return this.display}}}return e}),B=H(()=>{if(!c.value)return"";const e={...c.value};return delete e.children,JSON.stringify(e,null,2)});Se(async()=>{if(!j.id){V.push("/");return}window.addEventListener("resize",_);try{console.log("开始加载截图详情，ID:",j.id);const e=await Oe(j.id);if(console.log("获取到截图数据:",e?"成功":"失败"),e&&e.screenshot)g.value=`/api/uploads/${e.screenshot.filename}`,console.log("设置截图URL:",g.value);else{O("获取截图信息失败"),console.error("截图数据中没有screenshot字段",e);return}try{console.log("开始获取节点数据");const t=await Xe(j.id);console.log("节点数据响应:",t?JSON.stringify(t).substring(0,100)+"...":"无数据"),t&&t.node_data?(console.log("成功获取节点数据，结构:",Object.keys(t.node_data).join(",")),u.value=t.node_data,z(u.value),await R(),setTimeout(()=>{console.log("DOM更新后开始尝试渲染节点"),A.value&&Y()},200)):e.node_data?(console.log("从截图详情中获取节点数据"),u.value=e.node_data,z(u.value),await R(),setTimeout(()=>{console.log("DOM更新后开始尝试渲染节点"),A.value&&Y()},200)):(console.error("节点数据不存在或格式不正确",t),O("未能获取节点数据，服务器返回的数据格式不正确"))}catch(t){console.error("获取节点数据出错:",t),e.node_data?(console.log("在节点API失败后从截图详情获取节点数据"),u.value=e.node_data,z(u.value),await R(),setTimeout(()=>{console.log("DOM更新后开始尝试渲染节点"),A.value&&Y()},200)):O("获取节点数据失败，请检查网络连接")}u.value||(console.error("节点数据为空"),O("未能获取节点数据，请检查上传的JSON是否有效"))}catch(e){console.error("获取详情出错:",e),O("加载页面数据失败")}}),Ce(()=>{window.removeEventListener("resize",_),clearTimeout(J.value)}),W(u,()=>{u.value&&A.value&&R(()=>{Y()})}),W(A,()=>{u.value&&A.value&&setTimeout(()=>{console.log("监听到截图已加载，准备渲染节点"),Y()},500)}),W(c,e=>{u.value&&A.value&&R(()=>{U(c.value)}),e?pe():D.value=""});function b(e){if(A.value=!0,console.log("截图加载完成，开始初始化SVG容器"),C.value){const i=C.value.naturalWidth,v=C.value.naturalHeight;P.value=`${i} × ${v}`,console.log(`图片分辨率: ${P.value}`)}let t=0;const s=3,n=[300,500,1e3];function o(){setTimeout(()=>{console.log(`尝试初始化SVG容器 (第${t+1}次)`),m()&&t<s-1&&(t++,console.log(`初始化未成功，将在${n[t]}ms后重试`),o())},n[t])}o()}function m(){if(!C.value||!a.value)return console.warn("图片或SVG容器未准备好"),!0;const e=C.value;if(!e.complete)return console.warn("图片尚未完全加载"),!0;const t=e.getBoundingClientRect(),s=t.width,n=t.height,o=e.naturalWidth,i=e.naturalHeight;if(o<=0||i<=0)return console.warn(`图片原始尺寸无效: ${o}x${i}`),!0;if(s<=0||n<=0)return console.warn(`图片显示尺寸无效: ${s}x${n}`),!0;if($.value=s/o,k.value=n/i,$.value<=.01||k.value<=.01||$.value>10||k.value>10)return console.warn(`缩放因子不合理: X=${$.value.toFixed(3)}, Y=${k.value.toFixed(3)}`),!0;console.log(`更新图片缩放比例: X=${$.value.toFixed(3)}, Y=${k.value.toFixed(3)}`),console.log(`图片显示尺寸: ${s}x${n}, 原始尺寸: ${o}x${i}`);const v=e.offsetLeft,N=e.offsetTop;return a.value.setAttribute("width",s),a.value.setAttribute("height",n),a.value.style.position="absolute",a.value.style.top=`${N}px`,a.value.style.left=`${v}px`,Y(),!1}function _(){C.value&&(clearTimeout(J.value),J.value=setTimeout(()=>{console.log("窗口大小变化，重新初始化SVG容器"),m()},300))}function F(e){const t=a.value.getBoundingClientRect(),s=e.clientX-t.left,n=e.clientY-t.top;console.log(`点击坐标: (${s}, ${n})`);const o=L(s,n);o?(console.log("找到节点:",o.text||"无文本节点"),T.value=!0,c.value=o,U(o)):console.log("点击位置没有找到节点")}function L(e,t){const s=a.value.querySelectorAll("rect"),n=[];return s.forEach(o=>{const i=parseFloat(o.getAttribute("x")),v=parseFloat(o.getAttribute("y")),N=parseFloat(o.getAttribute("width")),I=parseFloat(o.getAttribute("height"));if(e>=i&&e<=i+N&&t>=v&&t<=v+I){const K=o.getAttribute("data-node-id"),Q=p.value.get(K);if(Q){const ee=N*I;n.push({node:Q,area:ee})}}}),n.length===0?null:(n.sort((o,i)=>o.area-i.area),n[0].node)}function G(e,t){let s=[];if(e.id&&s.push(`id-${e.id}`),e.text){const n=e.text.substring(0,10);s.push(`text-${n}`)}if(s.push(`index-${e.index||t}`),e.depth!==void 0&&s.push(`depth-${e.depth}`),e.bounds){const{left:n,top:o,right:i,bottom:v}=e.bounds,N=`${n}_${o}_${i}_${v}`;s.push(`bounds-${N}`)}return s.length===0&&s.push(`unknown-${Date.now()}-${t}`),`node-${s.join("-")}`}function z(e){if(!e)return console.error("节点数据为null或undefined"),!1;if(console.log("验证节点数据:",typeof e,e.bounds?"有bounds字段":"无bounds字段"),e.bounds||console.warn("节点数据缺少bounds字段"),e.children&&Array.isArray(e.children)){if(console.log(`根节点有${e.children.length}个子节点`),e.children.length>0){const t=e.children[0];console.log("首个子节点:",t.text||"无文本",t.bounds?"有bounds":"无bounds")}}else console.warn("节点数据没有children数组或不是数组");return!0}function Y(){if(!document.getElementById("nodeHighlights")){console.warn("SVG容器元素不存在，等待DOM更新..."),setTimeout(()=>{u.value&&A.value&&Y()},300);return}if(!a.value||!u.value){console.error("渲染节点失败：",a.value?"":"SVG容器不存在",u.value?"":"节点数据不存在");return}console.log("开始渲染节点边界");try{let s=function(o,i=0,v=0){!o||!o.bounds||(o.visibleToUser!==!1&&t.push({node:o,depth:i,index:v}),o.children&&Array.isArray(o.children)&&o.children.length>0&&o.children.forEach((N,I)=>{s(N,i+1,I)}))},n=function(o){const i=o.node,v=o.depth,N=o.index,{left:I,top:K,right:Q,bottom:ee}=i.bounds,ie=I*$.value,ae=K*k.value,te=(Q-I)*$.value,oe=(ee-K)*k.value;if(te<=0||oe<=0){console.warn("忽略无效边界:",ie,ae,te,oe);return}const de=G(i,N),f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("x",ie),f.setAttribute("y",ae),f.setAttribute("width",te),f.setAttribute("height",oe),f.setAttribute("fill","rgba(0, 0, 0, 0)"),f.setAttribute("stroke","rgba(220, 53, 69, 0.8)"),f.setAttribute("stroke-width","1"),f.setAttribute("stroke-dasharray","4,2"),f.setAttribute("rx","2"),f.setAttribute("ry","2"),f.setAttribute("data-node-id",de),f.setAttribute("data-depth",v),f.style.cursor="pointer",p.value.set(de,i),f.addEventListener("mouseover",q=>{f.setAttribute("fill","rgba(79, 109, 245, 0.2)"),f.setAttribute("stroke","rgba(255, 193, 7, 0.8)"),f.setAttribute("stroke-width","1.5"),me(q,i,N)}),f.addEventListener("mouseout",()=>{const q=f.getAttribute("data-node-id"),_e=p.value.get(q);c.value!==_e&&(f.setAttribute("fill","rgba(0, 0, 0, 0)"),f.setAttribute("stroke","rgba(220, 53, 69, 0.8)"),f.setAttribute("stroke-width","1"),f.setAttribute("stroke-dasharray","4,2")),$e()}),f.addEventListener("mousemove",q=>{xe(q)}),a.value.appendChild(f),e++};if($.value<=.01||k.value<=.01||$.value>10||k.value>10){console.warn(`检测到不合理缩放因子: X=${$.value.toFixed(3)}, Y=${k.value.toFixed(3)}，将延迟重新计算...`),setTimeout(()=>{m()},500);return}a.value.innerHTML="",p.value.clear();let e=0;const t=[];if(s(u.value),t.forEach(o=>{n(o)}),console.log(`节点渲染完成，共渲染了${e}个节点边界，按原始JSON顺序渲染`),c.value&&U(c.value),x.value){const o=a.value.getBoundingClientRect(),i=C.value.getBoundingClientRect();console.log(`SVG位置: left=${o.left}, top=${o.top}, width=${o.width}, height=${o.height}`),console.log(`图片位置: left=${i.left}, top=${i.top}, width=${i.width}, height=${i.height}`)}}catch(e){console.error("渲染节点时发生错误:",e)}}function U(e){if(!a.value)return;const t=a.value.querySelectorAll("rect");if(t.forEach(s=>{s.setAttribute("fill","rgba(0, 0, 0, 0)"),s.setAttribute("stroke","rgba(220, 53, 69, 0.8)"),s.setAttribute("stroke-width","1"),s.setAttribute("stroke-dasharray","4,2");const n=s.querySelector("animate");n&&s.removeChild(n)}),e){const s=G(e,0);for(let n=0;n<t.length;n++){const o=t[n],i=o.getAttribute("data-node-id");if(i===s||p.value.get(i)===e){o.setAttribute("fill","rgba(255, 193, 7, 0.2)"),o.setAttribute("stroke","rgba(255, 193, 7, 0.8)"),o.setAttribute("stroke-width","2"),o.setAttribute("stroke-dasharray","4,2");const v=document.createElementNS("http://www.w3.org/2000/svg","animate");v.setAttribute("attributeName","stroke-width"),v.setAttribute("values","2;3;2"),v.setAttribute("dur","1.5s"),v.setAttribute("repeatCount","indefinite"),o.appendChild(v),x.value&&console.log("高亮节点:",i);break}}}}function fe(e){const t=e&&typeof e=="object"&&e.value?e.value:e;se(t).then(()=>{ne("已复制到剪贴板")}).catch(s=>{console.error("复制失败",s)})}function ge(e){T.value=!1,e&&e.bounds&&e.bounds.right-e.bounds.left>0&&e.bounds.bottom-e.bounds.top>0||O("所选节点没有有效的边界坐标，无法在截图中高亮显示"),c.value=e,U(e)}function pe(){if(!c.value){O("请先选择一个节点");return}try{const e=c.value;let t=`// AutoXJS节点查找代码
`;if(e.text&&(t+=`// 通过文本查找
let element = text("${e.text}").findOne();
`),e.id){let n=typeof e.id=="object"?JSON.stringify(e.id):e.id.toString();t+=`// 通过ID查找
let element = id("${n}").findOne();
`,typeof e.index<"u"&&(t+=`// 通过ID配合索引查找
let element = id("${n}").indexInParent(${e.index}).findOne();
`)}const s=e.class||e.clz;if(s&&(t+=`// 通过类名查找
let element = className("${s}").findOne();
`,typeof e.index<"u"&&(t+=`// 通过类名配合索引查找
let element = className("${s}").indexInParent(${e.index}).findOne();
`)),s&&e.text&&(t+=`// 组合条件查找
let element = className("${s}").text("${e.text}").findOne();
`),e.bounds){const{x:n,y:o}=re(e);t+=`// 通过坐标点击
click(${n}, ${o});
`;const{left:i,top:v,right:N,bottom:I}=e.bounds;t+=`// 节点边界信息
// 左: ${i}, 上: ${v}, 右: ${N}, 下: ${I}
`}if(e.longClickable&&(t+=`// 长按控件
element.longClick();
`),s&&(s.includes("EditText")||s.includes("Input"))&&(t+=`// 输入文本
element.setText("要输入的文本");
`),e.desc){let n=typeof e.desc=="object"?JSON.stringify(e.desc):e.desc.toString();t+=`// 通过描述文本查找
let element = desc("${n}").findOne();
`,typeof e.index<"u"&&(t+=`// 通过描述配合索引查找
let element = desc("${n}").indexInParent(${e.index}).findOne();
`)}D.value=t.trim()}catch(e){console.error("生成AutoXJS代码出错:",e),O("生成代码失败，请重试")}}function be(){if(!D.value){O("请先生成代码");return}se(D.value).then(()=>{ne("代码已复制到剪贴板")}).catch(e=>{console.error("复制失败",e),O("复制失败，请重试")})}function ye(){if(!B.value){O("请先选择一个节点");return}se(B.value).then(()=>{ne("节点JSON已复制到剪贴板")}).catch(e=>{console.error("复制失败",e),O("复制失败，请重试")})}function me(e,t,s){if(!t)return;const n=a.value.getBoundingClientRect(),o=e.clientX-n.left,i=e.clientY-n.top,v=Math.round(o/$.value),N=Math.round(i/k.value);h.value={show:!0,x:o+10,y:Math.max(5,i-5),pageX:e.clientX+10,pageY:Math.max(5,e.clientY-5),originalX:v,originalY:N,className:t.clz||t.class||"",text:t.text||"",desc:t.desc||"",index:typeof t.index<"u"?t.index:s}}function $e(){h.value.show=!1}function xe(e){if(!h.value.show)return;const t=a.value.getBoundingClientRect(),s=e.clientX-t.left,n=e.clientY-t.top,o=Math.round(s/$.value),i=Math.round(n/k.value);h.value.x=s+10,h.value.y=Math.max(5,n-5),h.value.pageX=e.clientX+10,h.value.pageY=Math.max(5,e.clientY-5),h.value.originalX=o,h.value.originalY=i}return(e,t)=>(d(),r("div",We,[ve(Ie),l("div",Ge,[l("div",Ue,[l("div",Ke,[l("div",Qe,[l("div",Ze,[t[0]||(t[0]=l("span",null,"截图",-1)),P.value?(d(),r("span",et,S(P.value),1)):w("",!0)]),l("div",tt,[l("div",{class:"detail-screenshot-container",ref_key:"screenshotContainer",ref:M},[l("div",ot,[g.value?(d(),r("img",{key:0,src:g.value,class:"screenshot-image",alt:"截图",onLoad:b,ref_key:"screenshotImage",ref:C},null,40,nt)):w("",!0),A.value&&u.value?(d(),r("svg",{key:1,id:"nodeHighlights",ref_key:"nodeHighlights",ref:a,class:"node-overlay",onClick:F},null,512)):w("",!0)]),g.value?w("",!0):(d(),r("div",st,t[1]||(t[1]=[l("span",{class:"spinner"},null,-1),E(" 加载中... ")])))],512)])])]),l("div",lt,[l("div",it,[t[6]||(t[6]=l("div",{class:"card-header tab-header"},[l("div",{class:"tabs"},[l("div",{class:"tab active"},"节点信息"),l("div",{class:"tab disabled",title:"TODO"},"找色找图")])],-1)),l("div",at,[u.value?c.value?(d(),r("div",ct,[l("div",ut,[t[3]||(t[3]=l("div",{class:"code-header"},[l("h6",null,"AutoXJS代码片段")],-1)),D.value?(d(),r("div",ht,[l("pre",null,S(D.value),1),l("button",{class:"copy-code-btn",onClick:be,title:"复制代码"}," 复制代码 ")])):(d(),r("div",vt," 选择节点后将自动生成代码 "))]),l("div",ft,[l("h6",null,[t[4]||(t[4]=E("节点属性 ")),c.value.text?(d(),r("span",gt,'"'+S(c.value.text)+'"',1)):w("",!0)]),l("table",pt,[(d(!0),r(ce,null,ue(Z.value,(s,n)=>(d(),r("tr",{key:n},[l("td",bt,S(n),1),l("td",yt,[l("div",mt,[E(S(s)+" ",1),typeof s=="string"?(d(),r("button",{key:0,class:"copy-btn",onClick:o=>fe(s),title:"复制"}," 📋 ",8,$t)):w("",!0)])])]))),128))])]),l("div",xt,[l("div",{class:"json-header"},[t[5]||(t[5]=l("h6",null,"原始JSON数据",-1)),l("button",{class:"copy-json-btn",onClick:ye,title:"复制JSON"}," 📋 复制JSON ")]),l("div",_t,[l("pre",null,S(B.value),1)])])])):(d(),r("div",rt," 点击节点查看详细信息 ")):(d(),r("div",dt,t[2]||(t[2]=[l("span",{class:"spinner"},null,-1),E(" 加载中... ")])))])])]),l("div",Nt,[l("div",kt,[u.value?(d(),he(qe,{key:0,"node-data":u.value,"selected-node":c.value,"auto-scroll":T.value,onNodeSelected:ge},null,8,["node-data","selected-node","auto-scroll"])):w("",!0)])])])]),h.value.show?(d(),r("div",{key:0,class:"node-hover-info",style:Te({top:h.value.pageY+"px",left:h.value.pageX+"px"})},[h.value.className?(d(),r("div",wt,[t[7]||(t[7]=l("span",{class:"info-label"},"类名:",-1)),E(" "+S(h.value.className),1)])):w("",!0),h.value.text?(d(),r("div",St,[t[8]||(t[8]=l("span",{class:"info-label"},"文本:",-1)),E(" "+S(h.value.text),1)])):w("",!0),h.value.desc?(d(),r("div",At,[t[9]||(t[9]=l("span",{class:"info-label"},"描述:",-1)),E(" "+S(h.value.desc),1)])):w("",!0),h.value.index!==void 0?(d(),r("div",Ct,[t[10]||(t[10]=l("span",{class:"info-label"},"索引:",-1)),E(" "+S(h.value.index),1)])):w("",!0),h.value.originalX!==void 0?(d(),r("div",Tt,[t[11]||(t[11]=l("span",{class:"info-label"},"坐标:",-1)),E(" "+S(h.value.originalX)+", "+S(h.value.originalY),1)])):w("",!0)],4)):w("",!0)]))}},Ht=le(It,[["__scopeId","data-v-158cd771"]]);export{Ht as default};
